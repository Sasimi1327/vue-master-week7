import{S as n}from"./sweetalert2.all-XzGkvMNA.js";import{_ as f,a as u,r as d,o as h,c as g,b as t,e as i,f as r,g as k,h as b,i as x,F as $,j as c}from"./index-C9GRokLT.js";var V={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"sasimi",BASE_URL:"/vue-master-week7/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:_}=V,T={data(){return{status:!1}},methods:{getTokenFromCookies(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)HexSchoolVueToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${e}`},check(){u.post(`${_}/api/user/check`).then(()=>{this.status=!0}).catch(e=>{var s,a;n.fire({icon:"error",title:`錯誤 ${(s=e.response)==null?void 0:s.status}`,text:(a=e.response)==null?void 0:a.data.message,confirmButtonText:"Got It!"}).then(()=>{this.$router.push("/")})})},logout(){u.post(`${_}/logout`).then(e=>{n.fire({title:"登出狀態",text:e.data.message,icon:"success"}).then(()=>{this.$router.push("/")})}).catch(e=>{var s,a;n.fire({icon:"error",title:`錯誤 ${(s=e.response)==null?void 0:s.status}`,text:(a=e.response)==null?void 0:a.data.message,confirmButtonText:"Got It!"}).then(()=>{this.$router.push("/")})})}},mounted(){this.getTokenFromCookies(),this.check()}},R={class:"navbar navbar-expand-lg bg-body-tertiary"},w={class:"container-fluid"},B=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),E={class:"collapse navbar-collapse",id:"navbarNav"},N={class:"navbar-nav"},C={class:"nav-item"},S={class:"nav-item"},I={class:"nav-item"},L={class:"nav-item"},y={class:"container-fluid mt-3"};function D(e,s,a,F,m,l){const o=d("RouterLink"),p=d("RouterView");return h(),g($,null,[t("nav",R,[t("div",w,[B,t("div",E,[t("ul",N,[t("li",C,[i(o,{to:"/admin/products",class:"nav-link active"},{default:r(()=>[c("產品列表")]),_:1})]),t("li",S,[i(o,{to:"/admin/orders",class:"nav-link"},{default:r(()=>[c("訂單列表")]),_:1})]),t("li",I,[i(o,{to:"/admin/coupons",class:"nav-link"},{default:r(()=>[c("優惠券列表")]),_:1})]),t("li",L,[t("a",{href:"#",onClick:s[0]||(s[0]=k((...v)=>l.logout&&l.logout(...v),["prevent"])),class:"nav-link"},"登出")])])])])]),t("div",y,[m.status?(h(),b(p,{key:0})):x("",!0)])],64)}const G=f(T,[["render",D]]);export{G as default};
