import{S as n}from"./sweetalert2.all-Iirqrf_Y.js";import{_ as f,a as u,r as d,o as h,c as k,b as e,e as i,f as r,g,h as b,i as x,F as $,j as c}from"./index-mPaIGUPY.js";var V={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"sasimi2024",BASE_URL:"/vue-master-week7/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:_}=V,T={data(){return{status:!1}},methods:{getTokenFromCookies(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)HexSchoolVueToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${t}`},check(){u.post(`${_}/api/user/check`).then(()=>{this.status=!0}).catch(t=>{var s,o;n.fire({icon:"error",title:`錯誤 ${(s=t.response)==null?void 0:s.status}`,text:(o=t.response)==null?void 0:o.data.message,confirmButtonText:"Got It!"}).then(()=>{this.$router.push("/")})})},logout(){u.post(`${_}/logout`).then(t=>{document.cookie=`HexSchoolVueToken=; expires=${new Date};`,n.fire({title:"登出狀態",text:t.data.message,icon:"success"}).then(()=>{this.$router.push("/")})}).catch(t=>{var s,o;n.fire({icon:"error",title:`錯誤 ${(s=t.response)==null?void 0:s.status}`,text:(o=t.response)==null?void 0:o.data.message,confirmButtonText:"Got It!"}).then(()=>{this.$router.push("/")})})}},mounted(){this.getTokenFromCookies(),this.check()}},R={class:"navbar navbar-expand-lg bg-body-tertiary"},w={class:"container-fluid"},B=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),E={class:"collapse navbar-collapse",id:"navbarNav"},N={class:"navbar-nav"},S={class:"nav-item"},C={class:"nav-item"},D={class:"nav-item"},I={class:"nav-item"},L={class:"container-fluid mt-3"};function y(t,s,o,F,m,l){const a=d("RouterLink"),p=d("RouterView");return h(),k($,null,[e("nav",R,[e("div",w,[B,e("div",E,[e("ul",N,[e("li",S,[i(a,{to:"/admin/products",class:"nav-link active"},{default:r(()=>[c("產品列表")]),_:1})]),e("li",C,[i(a,{to:"/admin/orders",class:"nav-link"},{default:r(()=>[c("訂單列表")]),_:1})]),e("li",D,[i(a,{to:"/admin/coupons",class:"nav-link"},{default:r(()=>[c("優惠券列表")]),_:1})]),e("li",I,[e("a",{href:"#",onClick:s[0]||(s[0]=g((...v)=>l.logout&&l.logout(...v),["prevent"])),class:"nav-link"},"登出")])])])])]),e("div",L,[m.status?(h(),b(p,{key:0})):x("",!0)])],64)}const U=f(T,[["render",y]]);export{U as default};
